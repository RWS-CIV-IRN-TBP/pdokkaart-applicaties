<!DOCTYPE html>
<html>

<head>
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width" name="viewport"/>
<meta charset="utf-8"/>
</head>

<body>
<script type="text/javascript" src="http://pdokserver/pdokkaart/api/js/OpenLayers.js"></script>
<script type="text/javascript" src="http://pdokserver/pdokkaart/api/js/proj4js-compressed.js"></script>
<script type="text/javascript" src="http://pdokserver/pdokkaart/api/js/OpenLayersPdokKaartExtenders.js"></script>
<script type="text/javascript" src="http://pdokserver/pdokkaart/api/js/pdok-api.js"></script>
<script type="text/javascript" src="http://pdokserver/pdokkaart/api/js/geozetlib.js"></script>
<script type="text/javascript" src="http://pdokserver/pdokkaart/api/js/pdok-markers.js"></script>
<script type="text/javascript" src="http://pdokserver/pdokkaart/api/js/pdok-layers.js"></script>
<script type="text/javascript" src="../rws.js"></script>
<script type="text/javascript">

    Pdok.addcss("http://pdokserver/pdokkaart/api/styles/default/style.css");
    Pdok.addcss("http://pdokserver/pdokkaart/api/styles/api.css");
    Pdok.addcss("../rws.css");  // NOTE: to be loaded AFTER api.css !!
    var config_762={
        "mapdiv":"map_762",
        "zoom":4,
        "showzoom":true,
        "shownavigation":true,
        "showscaleline":true,
        "showmouseposition":true,
        "geocoder":{},
        "loc":"122650.88, 487337.6",
        "showlayerswitcher":true,
        "baselayers":[{"id":"BRT","visible":true},{"id":"LUFO","visible":false}],
        "markersdef":"http://pdokserver/pdokkaart/api/js/pdok-markers.js",
        "layersdef":"http://pdokserver/pdokkaart/api/js/pdok-layers.js"};
    var api_101;
    Pdok.ready(
        function(){

            api_101 = new Pdok.Api(config_762, Geotool.ready);

            Geotool.useWaterPopup = true;  // one of the RWS waterparameter viewers: special popup

            // NAP meetpunten url
            var data_uri = "http://www.rijkswaterstaat.nl/apps/geoservices/rwsnl/?mode=features&projecttype=waterstanden&loadprojects=1";

            var icons = [{},Geotool.icons.label_1,Geotool.icons.label_2,Geotool.icons.label_3,Geotool.icons.label_4] // only iconnr 1, 2, 3, 4
            var params = [ {key:'H10',name:'Waterhoogte',units:'cm NAP'},
                           {key:'H10A',name:'Astronomisch getij',units:'cm NAP'},
                           {key:'H10V',name:'Verwachte waterstand',units:'cm NAP'}];
            Geotool.getWaterData(data_uri, api_101.featuresLayer, 'waterstanden', [1,2,3,4], icons, params);

            // add legend
            Geotool.legend(api_101.map, 'legenda_waterstand.png');

        }
    );
</script>
<div id="map_762" class="olMap fullscreen"></div>
</body>
</html>
