<!DOCTYPE html>
<html>

<head>
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width" name="viewport"/>
<meta charset="utf-8"/>
</head>

<body>
<script type="text/javascript" src="http://pdokserver/pdokkaart/api/js/OpenLayers.js"></script>
<script type="text/javascript" src="http://pdokserver/pdokkaart/api/js/proj4js-compressed.js"></script>
<script type="text/javascript" src="http://pdokserver/pdokkaart/api/js/pdok-api.js"></script>
<script type="text/javascript" src="http://pdokserver/pdokkaart/api/js/geozetlib.js"></script>
<script type="text/javascript" src="http://pdokserver/pdokkaart/api/js/pdok-markers.js"></script>
<script type="text/javascript" src="http://pdokserver/pdokkaart/api/js/pdok-layers.js"></script>
<script type="text/javascript" src="../rws.js"></script>
<script type="text/javascript">

    Pdok.addcss("http://pdokserver/pdokkaart/api/styles/default/style.css");
    Pdok.addcss("http://pdokserver/pdokkaart/api/styles/api.css");
    Pdok.addcss("../rws.css");  // NOTE: to be loaded AFTER api.css !!

    var config_101={
        "mapdiv": "map_101",
        "zoom":5,
        "showzoom":true,
        "shownavigation":true,
        "showscaleline":true,
        "showmouseposition":true,
        "geocoder":"{}",
        "loc":"170000, 470000",
        "showlayerswitcher":true,
        "baselayers":[{"id":"BRT","visible":true},{"id":"LUFO","visible":false}],
        "overlays":[
        //    {"id":"GELUIDSKAARTEN_NACHT_2006","visible":true},
        //    {"id":"GELUIDSKAARTEN_ETMAAL_2006","visible":true},
        //    {"id":"GELUIDSKAARTEN_NACHT","visible":true},
        //    {"id":"GELUIDSKAARTEN_ETMAAL","visible":true}
        ]
    };

    var api_101;
    Pdok.ready(
        function(){
            api_101 = new Pdok.Api(config_101, Geotool.ready);
            api_101.map.removeLayer( api_101.map.getLayersByName("Markers")[0] );
            // prevent zooming to too much detail:
            api_101.map.getNumZoomLevels = function(){return 10;};
            // now add geluidskaart layers (in plaats van met wmsurl/wmslayers)
            /*
            var lden2016 = api_101.createWMSLayer(
                {
                    name: 'Lden 2016',
                    url: 'https://geoservices.rijkswaterstaat.nl/apps/geoserver/geluidsbelasting/wms',
                    //layers: 'geluidsbelasting:gemiddeld_etmaal',
                    layers: 'geluidsbelasting:Lden_2016',
                    transparent:true,
                    singleTile: false,
                    visibility: true
                })
            api_101.map.addLayer(lden2016);
            var lnight2016 = api_101.createWMSLayer(
                {
                    name: 'Lnight 2016',
                    url: 'https://geoservices.rijkswaterstaat.nl/apps/geoserver/geluidsbelasting/wms',
                    layers: 'geluidsbelasting:Lnight_2016',
                    transparent:true,
                    singleTile: false,
                    visibility: false
                })
            api_101.map.addLayer(lnight2016);
            */
            var lden2011 = api_101.createWMSLayer(
                {
                    name: 'Lden 2011',
                    url: 'https://geoservices.rijkswaterstaat.nl/apps/geoserver/geluidsbelasting/wms',
                    layers: 'geluidsbelasting:Lden_2011',
                    transparent:true,
                    singleTile: false,
                    visibility: false
                })
            api_101.map.addLayer(lden2011);
            var lnight2011 = api_101.createWMSLayer(
                {
                    name: 'Lnight 2011',
                    url: 'https://geoservices.rijkswaterstaat.nl/apps/geoserver/geluidsbelasting/wms',
                    layers: 'geluidsbelasting:Lnight_2011',
                    transparent:true,
                    singleTile: false,
                    visibility: false
                })
            api_101.map.addLayer(lnight2011);
            var lden2006 = api_101.createWMSLayer(
                {
                    name: 'Lden 2006',
                    url: 'https://geoservices.rijkswaterstaat.nl/apps/geoserver/geluidsbelasting/wms',
                    layers: 'geluidsbelasting:Lden_2006',
                    transparent:true,
                    singleTile: false,
                    visibility: false
                })
            api_101.map.addLayer(lden2006);
            var lnight2006 = api_101.createWMSLayer(
                {
                    name: 'Lnight 2006',
                    url: 'https://geoservices.rijkswaterstaat.nl/apps/geoserver/geluidsbelasting/wms',
                    layers: 'geluidsbelasting:Lnight_2006',
                    transparent:true,
                    singleTile: false,
                    visibility: false
                })
            api_101.map.addLayer(lnight2006);

            // add legend
            //Geotool.legend(api_101.map, 'legenda_geluidskaart.png');
            // get legend from wms
            // Geotool.legend(api_101.map, 'https://geoservices.rijkswaterstaat.nl/dvs_geluidskaarten?version=1.3.0&service=WMS&request=GetLegendGraphic&sld_version=1.1.0&layer=AAA600&format=image/png&STYLE=DEFAULT');
        }
    );

</script>
<div id="map_101" class="olMap fullscreen"></div>

</body>
</html>
